var w=Object.defineProperty;var v=(n,e,a)=>e in n?w(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var d=(n,e,a)=>(v(n,typeof e!="symbol"?e+"":e,a),a);import{i as N,g as A,s as y,r as f,j as t,F as p,a as l,d as x,b as U,c as I,e as k,f as L,h as R,k as P,u as $,l as S,R as C,m,N as D,v as E,H as O,n as _,o as j}from"./vendor.7fbea3d6.js";const W=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}};W();var B={apiKey:"AIzaSyAR6S5l9UiabY1TpO1DelUprklAJ6V5A8w",authDomain:"sockets-717fc.firebaseapp.com",projectId:"sockets-717fc",storageBucket:"sockets-717fc.appspot.com",messagingSenderId:"1073692013836",appId:"1:1073692013836:web:1af80e41fe3cc3c6a50529"};class F{constructor(){d(this,"firebaseApp");d(this,"firebaseAuth");this.firebaseApp=N(B),this.firebaseAuth=A()}async getAuthAnonymously(){var e;return(e=await y(this.firebaseAuth))==null?void 0:e.user}}var H=new F;const g=f.exports.createContext(null);function M(){return f.exports.useContext(g)}function z(n){const[e,a]=f.exports.useState(null);function o(){a(null)}async function s(){a(await H.getAuthAnonymously())}return t(g.Provider,{value:{user:e,logout:o,loginAnonymously:s},children:n.children})}function K(n){return t(p,{children:t("section",{className:"app-infobar-top",children:n.userUID?t(p,{children:l("button",{className:"btn",children:[t(I,{}),t("small",{className:"text-muted align-middle p-2",children:"Need help?"})]})}):l(p,{children:[l("button",{className:"btn",onClick:()=>n.goBack(),children:[t(x,{}),t("small",{className:"text-muted align-middle p-2",children:n.pathURL})]}),t("button",{className:"btn",onClick:()=>n.logout(),children:t(U,{})})]})},n.userUID)})}var c={name:"Hello",path:"hello",next:{apps:{name:"Apps",path:"apps"},login:{name:"Login",path:"login"},news:{name:"News",path:"news"},user:{name:"User",path:"user"}}};class T{constructor(){d(this,"parser",new Map);this.parser.set("/"+this.pathApps,this.nameApps),this.parser.set("/"+this.pathNews,this.nameNews),this.parser.set("/"+this.pathUser,this.nameUser),this.parser.set("/"+this.pathLogin,this.nameLogin)}parse(e){return this.parser.get(e)||""}get pathApps(){var e;return`${(e=c.next)==null?void 0:e.apps.path}`}get nameApps(){var e;return`${(e=c.next)==null?void 0:e.apps.name}`}get pathNews(){var e;return`${(e=c.next)==null?void 0:e.news.path}`}get nameNews(){var e;return`${(e=c.next)==null?void 0:e.news.name}`}get pathUser(){var e;return`${(e=c.next)==null?void 0:e.user.path}`}get nameUser(){var e;return`${(e=c.next)==null?void 0:e.user.name}`}get pathLogin(){var e;return`${(e=c.next)==null?void 0:e.login.path}`}get nameLogin(){var e;return`${(e=c.next)==null?void 0:e.login.name}`}}var i=new T;function q(n){return t("section",{className:"app-infobar-bottom",children:n.userUID?t(p,{children:l("button",{className:"btn",onClick:()=>{},children:[t(P,{}),t("small",{className:"text-muted d-block",children:"Our policy"})]})}):l(p,{children:[l("button",{className:`btn ${n.current===n.names.news?"active":""}`,onClick:()=>n.toNews(),children:[t(k,{}),t("small",{className:"text-muted d-block",children:n.names.news})]}),l("button",{className:`btn ${n.current===n.names.apps?"active":""}`,onClick:()=>n.toApps(),children:[t(L,{}),t("small",{className:"text-muted d-block",children:n.names.apps})]}),l("button",{className:`btn ${n.current===n.names.user?"active":""}`,onClick:()=>n.toUser(),children:[t(R,{}),t("small",{className:"text-muted d-block",children:n.names.user})]})]})},n.userUID)}function J(){const n=$(),e=S(),{user:a,logout:o}=M();return l(p,{children:[t(K,{goBack:()=>o(-1),logout:o,userUID:a==null?void 0:a.ID,pathURL:i.parse(n.pathname)}),t("main",{id:"app-main-content",children:l(C,{children:[t(m,{path:i.pathLogin,element:t("h1",{children:"Login"})}),t(m,{path:i.pathApps,element:t("h1",{children:"Apps"})}),t(m,{path:i.pathNews,element:t("h1",{children:"News"})}),t(m,{path:i.pathUser,element:t("h1",{children:"User"})}),t(m,{path:"*",element:t(D,{replace:!0,to:i.pathLogin})})]})}),t(q,{toApps:()=>e(i.pathApps),toNews:()=>e(i.pathNews),toUser:()=>e(i.pathUser),userUID:a==null?void 0:a.ID,current:i.parse(n.pathname),names:{apps:i.nameApps,news:i.nameNews,user:i.nameUser}})]})}function V(n={}){const{immediate:e=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:s,onRegisterError:r}=n;let u;const b=async(h=!0)=>{};return"serviceWorker"in navigator&&(u=new E("/hello-ts/sw.js",{scope:"/hello-ts/",type:"classic"}),u.addEventListener("activated",h=>{h.isUpdate?window.location.reload():o==null||o()}),u.register({immediate:e}).then(h=>{s==null||s(h)}).catch(h=>{r==null||r(h)})),b}class Y{constructor(){d(this,"updateSW");d(this,"installPromptReady",new Event("isInstallPromptReady"));d(this,"installPrompt",null);this.updateSW=V({onNeedRefresh(){},onOfflineReady(){}}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPrompt=e,window.dispatchEvent(this.installPromptReady)})}async getInstallPrompt(){return new Promise((e,a)=>{if(this.installPrompt)return e(this.installPrompt);window.addEventListener("isInstallPromptReady",o=>e(this.installPrompt))})}}var G=new Y;function Q(){return G.getInstallPrompt(),t(O,{children:t(z,{children:t(J,{})})})}_.exports.render(t(j.StrictMode,{children:t(Q,{})}),document.getElementById("root"));
